!function(){var a={transition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd otransitionend"},b="",c=!1;for(var d in a)if(void 0!==document.body.style[d]){b=a[d],c=!0;break}window.mt=window.mt||{},window.mt.transition={end:b,isSupport:c}}(),function(a){"use strict";function b(a,b){a.is(":hidden")?(a.data("status","hidden"),"function"==typeof b&&b()):a.data("status","shown")}function c(a,b){"show"!==a.data("status")&&"shown"!==a.data("status")&&(a.data("status","show").trigger("show"),b())}function d(a,b){"hide"!==a.data("status")&&"hidden"!==a.data("status")&&(a.data("status","hide").trigger("hide"),b())}function e(b,c){var d=null;return d=c.css3&&f.isSupport?h[c.animation]||h[j.animation]:c.js?i[c.animation]||i[j.animation]:g,d.init(b),{show:a.proxy(d.show,this,b),hide:a.proxy(d.hide,this,b)}}var f=window.mt.transition,g={init:b,show:function(a){c(a,function(){a.show(),a.data("status","shown").trigger("shown")})},hide:function(a){d(a,function(){a.hide(),a.data("status","hidden").trigger("hidden")})}},h={fade:{init:function(a){h._init(a,"fadeOut")},show:function(a){h._show(a,"fadeOut")},hide:function(a){h._hide(a,"fadeOut")}},slideUpDown:{init:function(a){a.height(a.height()),h._init(a,"slideUpDownCollapse")},show:function(a){h._show(a,"slideUpDownCollapse")},hide:function(a){h._hide(a,"slideUpDownCollapse")}},slideLeftRight:{init:function(a){a.width(a.width()),h._init(a,"slideLeftRightCollapse")},show:function(a){h._show(a,"slideLeftRightCollapse")},hide:function(a){h._hide(a,"slideLeftRightCollapse")}},fadeSlideUpDown:{init:function(a){a.height(a.height()),h._init(a,"fadeOut slideUpDownCollapse")},show:function(a){h._show(a,"fadeOut slideUpDownCollapse")},hide:function(a){h._hide(a,"fadeOut slideUpDownCollapse")}},fadeSlideLeftRight:{init:function(a){a.width(a.width()),h._init(a,"fadeOut slideLeftRightCollapse")},show:function(a){h._show(a,"fadeOut slideLeftRightCollapse")},hide:function(a){h._hide(a,"fadeOut slideLeftRightCollapse")}}};h._init=function(a,c){a.addClass("transition"),b(a,function(){a.addClass(c)})},h._show=function(a,b){c(a,function(){a.off(f.end).one(f.end,function(){a.data("status","shown").trigger("shown")}),a.show(),setTimeout(function(){a.removeClass(b)},20)})},h._hide=function(a,b){d(a,function(){a.off(f.end).one(f.end,function(){a.hide(),a.data("status","hidden").trigger("hidden")}),a.addClass(b)})};var i={fade:{init:function(a){i._init(a)},show:function(a){i._show(a,"fadeIn")},hide:function(a){i._hide(a,"fadeOut")}},slideUpDown:{init:function(a){i._init(a)},show:function(a){i._show(a,"slideDown")},hide:function(a){i._hide(a,"slideUp")}},slideLeftRight:{init:function(a){i._customInit(a,{width:0,"padding-left":0,"padding-right":0})},show:function(a){i._customShow(a)},hide:function(a){i._customHide(a,{width:0,"padding-left":0,"padding-right":0})}},fadeSlideUpDown:{init:function(a){i._customInit(a,{opacity:0,height:0,"padding-top":0,"padding-down":0})},show:function(a){i._customShow(a)},hide:function(a){i._customHide(a,{opacity:0,height:0,"padding-top":0,"padding-bottom":0})}},fadeSlideLeftRight:{init:function(a){i._customInit(a,{opacity:0,width:0,"padding-left":0,"padding-right":0})},show:function(a){i._customShow(a)},hide:function(a){i._customHide(a,{opacity:0,width:0,"padding-left":0,"padding-right":0})}}};i._init=function(a,c){a.removeClass("transition"),b(a,c)},i._customInit=function(a,b){var c={};for(var d in b)c[d]=a.css(d);a.data("styles",c),i._init(a,function(){a.css(b)})},i._show=function(a,b){c(a,function(){a.stop()[b](function(){a.data("status","shown").trigger("shown")})})},i._customShow=function(a){c(a,function(){a.show(),a.stop().animate(a.data("styles"),function(){a.data("status","shown").trigger("shown")})})},i._hide=function(a,b){d(a,function(){a.stop()[b](function(){a.data("status","hidden").trigger("hidden")})})},i._customHide=function(a,b){d(a,function(){a.stop().animate(b,function(){a.hide(),a.data("status","hidden").trigger("hidden")})})};var j={css3:!1,js:!1,animation:"fade"};a.fn.extend({showHide:function(b){return this.each(function(){var c=a(this),d=a.extend({},j,"object"==typeof b&&b),f=c.data("showHide");f||c.data("showHide",f=e(c,d)),"function"==typeof f[b]&&f[b]()})}})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),f=d.data("dropdown");f||d.data("dropdown",f=new c(d,e)),"function"==typeof f[b]&&f[b]()})}var c=function(b,c){this.$elem=a(b),this.options=c,this.$layer=this.$elem.find(".dropdown-layer"),this.activeClassName=this.options.active+"-active",this._init()};c.DEFAULTS={event:"hover",css3:!1,js:!1,animation:"fade",delay:0,active:"dropdown"},c.prototype._init=function(){var b=this;b.$layer.on("show shown hide hidden",function(a){"show"===a.type?b.$elem.addClass(b.activeClassName):"hide"===a.type&&b.$elem.removeClass(b.activeClassName),b.$elem.trigger("dropdown-"+a.type)}),b.$layer.showHide(b.options),"click"===b.options.event?(b.$elem.on("click",function(a){b.show(),a.stopPropagation()}),a(document).on("click",a.proxy(b.hide,b))):b.$elem.hover(a.proxy(b.show,b),a.proxy(b.hide,b))},c.prototype.show=function(){var a=this;a.options.delay?a.timer=setTimeout(function(){a.$layer.showHide("show")},a.options.delay):a.$layer.showHide("show")},c.prototype.hide=function(){this.options.delay&&clearTimeout(this.timer),this.$layer.showHide("hide")},a.fn.extend({dropdown:b})}(jQuery),function(a){"use strict";a(".dropdown").dropdown({css3:!0,js:!1,animation:"slideUpDown"})}(jQuery),function(a){"use strict";function b(a,b,c){f.setPolicy(c),f.search(a,b)}var c="",d="上海交通大学(徐汇校区)",e=new BMap.Map("transportation-map1");e.centerAndZoom("上海",11),c="上海浦东国际机场";var f=new BMap.TransitRoute(e,{renderOptions:{map:e},policy:0});e.clearOverlays(),b(c,d,BMAP_TRANSIT_POLICY_LEAST_TIME),e.addControl(new BMap.MapTypeControl),e.setCurrentCity("上海"),e.enableScrollWheelZoom(!0);var g=new BMap.Map("transportation-map2");g.centerAndZoom("上海",11),c="上海虹桥机场";var f=new BMap.TransitRoute(g,{renderOptions:{map:g},policy:0});g.clearOverlays(),b(c,d,BMAP_TRANSIT_POLICY_LEAST_TIME),g.addControl(new BMap.MapTypeControl),g.setCurrentCity("上海"),g.enableScrollWheelZoom(!0);var h=new BMap.Map("transportation-map3");h.centerAndZoom("上海",11),c="上海南站";var f=new BMap.TransitRoute(h,{renderOptions:{map:h},policy:0});h.clearOverlays(),b(c,d,BMAP_TRANSIT_POLICY_LEAST_TIME),h.addControl(new BMap.MapTypeControl),h.setCurrentCity("上海"),h.enableScrollWheelZoom(!0);var i=new BMap.Map("transportation-map4");i.centerAndZoom("上海",11),c="上海火车站";var f=new BMap.TransitRoute(i,{renderOptions:{map:i},policy:0});i.clearOverlays(),b(c,d,BMAP_TRANSIT_POLICY_LEAST_TIME),i.addControl(new BMap.MapTypeControl),i.setCurrentCity("上海"),i.enableScrollWheelZoom(!0)}(jQuery),function(a){"use strict";function b(a,b){this.$elem=a,this.options=b,this.$container=this.$elem.find(".carousel-container"),this.$items=this.$container.find(".carousel-item"),this.containerWidth=0,this.left=0,this.timer=null,this._init()}function c(c){return this.each(function(){var d=a(this),e=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),f=d.data("carousel");f||d.data("carousel",f=new b(d,e)),"function"==typeof f[c]&&f[c]()})}b.DEFAULTS={speed:1,gap:5},b.prototype._init=function(){var b=this;b.$items.each(function(a){b.containerWidth+=b.$items.eq(a).width()+b.options.gap}),b.$container.append(b.$container.html()),b.$elem.hover(a.proxy(b.pause,b),a.proxy(b.move,b)),b.move()},b.prototype.move=function(){var a=this;clearInterval(a.timer),a.timer=setInterval(function(){a.left+=a.options.speed,a.left>a.containerWidth&&(a.left=0),a.$container.css("left",-1*a.left)},13)},b.prototype.pause=function(){clearInterval(this.timer)},a.fn.extend({carousel:c})}(jQuery),$("#photos-carousel").carousel({speed:1});